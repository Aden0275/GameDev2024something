<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Drawing Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        canvas {
            margin-top: 20px;
            border: 1px solid #000;
        }
    </style>
</head>
<body>
    <h2 align="center">t2a08-canvas by Fred</h2>
    
    <div>
        <!-- Drawing buttons -->
        <input type="button" value="Draw Star" onclick="drawStar(400, 300, 30, 70, 5);"><br><br>
        <input type="button" value="Draw 3D Cube" onclick="drawCube();"><br><br>

        <!-- Button to clear all drawings -->
        <input type="button" value="Clear all" onclick="clearAll();"><br><br>
    </div>

    <canvas id="myCoolTag" width="800" height="600"></canvas>

    <script>
        // Set up global canvas context
        let myCanvas = document.getElementById('myCoolTag');
        let myContext = myCanvas.getContext('2d');

        function drawStar(cx, cy, spikes, outerRadius, innerRadius) {
            let rot = (Math.PI / 2) * 3;  // Start at the top of the star
            let x = cx;
            let y = cy;
            const step = Math.PI / spikes;

            myContext.beginPath();
            myContext.moveTo(cx, cy - outerRadius);

            for (let i = 0; i < spikes; i++) {
                x = cx + Math.cos(rot) * outerRadius;
                y = cy + Math.sin(rot) * outerRadius;
                myContext.lineTo(x, y);
                rot += step;

                x = cx + Math.cos(rot) * innerRadius;
                y = cy + Math.sin(rot) * innerRadius;
                myContext.lineTo(x, y);
                rot += step;
            }
            myContext.lineTo(cx, cy - outerRadius);
            myContext.closePath();
            myContext.fillStyle = 'gold';
            myContext.fill();
        }

        function drawCube() {
            myContext.clearRect(0, 0, myCanvas.width, myCanvas.height); // Clear previous drawings

            let size = 100;
            let x = 400; // Center x
            let y = 300; // Center y
            
            // Define cube vertices
            let vertices = [
                {x: x - size, y: y - size, z: -size}, // Front Top Left
                {x: x + size, y: y - size, z: -size}, // Front Top Right
                {x: x + size, y: y + size, z: -size}, // Front Bottom Right
                {x: x - size, y: y + size, z: -size}, // Front Bottom Left
                {x: x - size, y: y - size, z: size},  // Back Top Left
                {x: x + size, y: y - size, z: size},  // Back Top Right
                {x: x + size, y: y + size, z: size},  // Back Bottom Right
                {x: x - size, y: y + size, z: size}   // Back Bottom Left
            ];

            // Define projection scale (for perspective)
            let scale = 200; 
            let projectedVertices = vertices.map(v => ({
                x: v.x * scale / (v.z + scale) + x,
                y: v.y * scale / (v.z + scale) + y
            }));

            // Draw edges of the cube
            myContext.beginPath();
            for (let i = 0; i < 4; i++) {
                myContext.moveTo(projectedVertices[i].x, projectedVertices[i].y);
                myContext.lineTo(projectedVertices[(i + 1) % 4].x, projectedVertices[(i + 1) % 4].y); // Front face
                myContext.moveTo(projectedVertices[i + 4].x, projectedVertices[i + 4].y);
                myContext.lineTo(projectedVertices[(i + 1) % 4 + 4].x, projectedVertices[(i + 1) % 4 + 4].y); // Back face
                myContext.moveTo(projectedVertices[i].x, projectedVertices[i].y);
                myContext.lineTo(projectedVertices[i + 4].x, projectedVertices[i + 4].y); // Connecting edges
            }
            myContext.stroke();
        }

        function clearAll() {
            myContext.clearRect(0, 0, myCanvas.width, myCanvas.height);
        }
    </script>
</body>
</html>
