<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flappy Bird Clone with Background Control</title>
    <style>
        body {
            background-repeat: no-repeat; /* Disable background repeat */
            background-image: url('https://i.ibb.co/yXNJrzG/1247160.jpg');
            background-size: cover; /* Cover the entire background */
            text-align: center;
            font-family: Arial, sans-serif;
            padding: 20px;
            height: 100vh; /* Makes body full height of the viewport */
            overflow: hidden; /* Prevents scrollbar from appearing */
            color: white; /* Sets general text color to white */
            position: relative; /* Allows absolute positioning of the bird */
        }

        #myImage01 {
            position: absolute;
            width: 100px;
            height: 80px;
            z-index: 10;
            bottom: 50px; /* Position it 50px above the bottom of the screen */
            left: calc(50% - 50px); /* Center it horizontally; subtract half its width */
        }

        .button-section {
            margin: 20px 0;
        }

        button {
            margin: 5px;
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>

<body id="myBody">
    <script>
        // Background movement variables
        let myGlobalX = 0; // Global variable for background horizontal position
        let myGlobalY = 0; // Global variable for background vertical position
        let mySpeed01 = 400, mySpeed02 = 400, mySpeedUp = 400, mySpeedDown = 400; // Background speeds

        // Image control variables
        const imgElement = document.getElementById('myImage01');
        let gravity = 0.5; // The force of gravity
        let lift = -10; // The jump force
        let velocity = 0; // Current velocity of the bird
        let positionY = window.innerHeight - 50 - imgElement.clientHeight; // Initial position

        // Set initial position of the bird
        imgElement.style.bottom = `${positionY}px`;

        // Function to jump
        function jump() {
            velocity += lift; // Apply the jump force
        }

        // Update function that handles gravity and position
        function update() {
            velocity += gravity; // Apply gravity
            positionY += velocity; // Update position with velocity

            // Prevent the bird from going off-screen
            if (positionY > window.innerHeight - imgElement.clientHeight - 50) {
                positionY = window.innerHeight - imgElement.clientHeight - 50; // Keep it above bottom
                velocity = 0; // Reset velocity if it's touching the ground
            }

            if (positionY < 0) {
                positionY = 0; // Prevent it from going above the top
                velocity = 0; // Reset velocity
            }

            // Update the bird's position
            imgElement.style.bottom = `${positionY}px`;

            // Continue the animation
            requestAnimationFrame(update);
        }

        // Event Listener for mouse click
        document.addEventListener('click', jump);

        // Background movement functions
        function moveBackgroundLeft() {
            myGlobalX -= 5;
            updateBackgroundPosition();
        }

        function moveBackgroundRight() {
            myGlobalX += 5;
            updateBackgroundPosition();
        }

        function moveBackgroundUp() {
            myGlobalY -= 5;
            updateBackgroundPosition();
        }

        function moveBackgroundDown() {
            myGlobalY += 5;
            updateBackgroundPosition();
        }

        function updateBackgroundPosition() {
            document.getElementById('myBody').style.backgroundPosition = `${myGlobalX}px ${myGlobalY}px`;
        }

        // Clear all intervals
        function clearAllIntervals() {
            // Not needed for this simplified version
        }

        // Reset function
        function resetPositions() {
            myGlobalX = 0;
            myGlobalY = 0;
            velocity = 0; // Reset bird's velocity
            positionY = window.innerHeight - 50 - imgElement.clientHeight; // Reset bird's position
            imgElement.style.bottom = `${positionY}px`; // Update bird position
            updateBackgroundPosition();
        }

        // Start the update loop
        update();

        // Keydown event handler for arrow keys (background control)
        document.addEventListener('keydown', function (event) {
            switch (event.key) {
                case 'ArrowLeft':
                    moveBackgroundLeft();
                    break;
                case 'ArrowRight':
                    moveBackgroundRight();
                    break;
                case 'ArrowUp':
                    moveBackgroundUp();
                    break;
                case 'ArrowDown':
                    moveBackgroundDown();
                    break;
            }
        });
    </script>

    <h1>Flappy Bird Clone with Background Control</h1>

    <!-- Control Section -->
    <div class="button-section">
        <button onclick="resetPositions()">Reset Positions</button>
    </div>

    <!-- Image Element -->
    <img id="myImage01" src="https://i.ibb.co/Zf7hHsh/OIP.jpg" alt="OIP">
</body>

</html>
