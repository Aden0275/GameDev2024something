<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun HTML Page with Many Features</title>
    <style>
        body {
            background-color: #ffcccb;
            color: #333;
            font-family: 'Arial', sans-serif;
            text-align: center;
            padding: 20px;
            margin: 0;
            transition: background-color 0.5s;
        }
        h1 {
            font-size: 48px;
            color: #ff69b4;
            margin-bottom: 20px;
        }
        button {
            padding: 10px 15px;
            font-size: 18px;
            background-color: #4CAF50;
            border: none;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }
        .card {
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 10px;
            padding: 20px;
            margin: 10px;
            width: 300px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .fun-image {
            max-width: 100%;
            height: auto;
            margin-top: 20px;
        }
        input[type="text"], input[type="color"], input[type="file"] {
            padding: 5px;
            font-size: 18px;
            border-radius: 5px;
            border: 1px solid #ccc;
            margin: 10px;
            width: calc(100% - 22px); /* 100% width accounting for padding */
        }
        .quote, .fact, .joke, .quiz-question, .feedback {
            font-size: 18px;
            margin: 10px;
            font-style: italic;
            color: #555;
        }
    </style>
</head>
<body>
    <h1>Welcome to My Fun HTML Page!</h1>

    <div class="container">

        <!-- Dynamic Text -->
        <div class="card">
            <p id="dynamicText">Click the button below to change this text!</p>
            <button onclick="changeText()">Click Me!</button>
        </div>

        <!-- Random Quote -->
        <div class="card">
            <input type="text" id="userInput" placeholder="Type something fun!" />
            <button onclick="showInput()">Show Input</button>
            <div class="quote" id="funQuote">"Life is short, smile while you still have teeth!"</div>
            <button onclick="changeQuote()">Get a New Quote</button>
        </div>

        <!-- Background Color -->
        <div class="card">
            <input type="color" id="bgColorPicker" onchange="changeBackgroundColor(this.value)" />
            <label for="bgColorPicker">Pick a Background Color</label>
        </div>

        <!-- Random Joke -->
        <div class="card">
            <button onclick="generateJoke()">Tell Me a Joke</button>
            <div class="joke" id="jokeDisplay">Click the button for a joke!</div>
        </div>

        <!-- Image Upload -->
        <div class="card">
            <input type="file" id="imageUpload" accept="image/*" onchange="displayImage(event)" />
            <div><img id="uploadedImage" class="fun-image" alt="Uploaded Image" /></div>
        </div>

        <!-- Countdown Timer -->
        <div class="card">
            <h3>Countdown Timer</h3>
            <input type="datetime-local" id="countdownInput" />
            <button onclick="startCountdown()">Start Countdown</button>
            <div id="countdownDisplay"></div>
        </div>

        <!-- Trivia Quiz -->
        <div class="card">
            <h3>Trivia Quiz</h3>
            <p id="quizQuestion" class="quiz-question">Click below for a trivia question!</p>
            <button onclick="getTriviaQuestion()">Get Question</button>
            <input type="text" id="quizAnswer" placeholder="Your answer..." />
            <button onclick="checkTriviaAnswer()">Check Answer</button>
            <div id="quizFeedback"></div>
        </div>

        <!-- To-Do List -->
        <div class="card">
            <h3>To-Do List</h3>
            <input type="text" id="todoInput" placeholder="Add a new task..." />
            <button onclick="addTodo()">Add Task</button>
            <ul id="todoList"></ul>
        </div>

        <!-- User Input History -->
        <div class="card">
            <h3>User Input History</h3>
            <button onclick="showUserInputHistory()">Show History</button>
            <div id="userInputHistory"></div>
        </div>

        <!-- Emoji Picker -->
        <div class="card">
            <h3>Emoji Picker</h3>
            <button onclick="selectEmoji('üòÄ')">üòÄ</button>
            <button onclick="selectEmoji('üòÇ')">üòÇ</button>
            <button onclick="selectEmoji('üòç')">üòç</button>
            <button onclick="selectEmoji('ü§™')">ü§™</button>
            <div class="quote" id="emojiText">Selected Emoji: None</div>
        </div>

        <!-- Random Trivia Fact -->
        <div class="card">
            <button onclick="showFunFact()">Show Random Fun Fact</button>
            <div class="fact" id="funFact">Click the button to get a fun fact!</div>
        </div>

        <!-- Music Player -->
        <div class="card">
            <h3>Play Background Music</h3>
            <audio controls>
                <source src="your-audio-file.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>

        <!-- Feedback Form -->
        <div class="card">
            <h3>Feedback Form</h3>
            <input type="text" id="feedbackInput" placeholder="Your feedback..." />
            <button onclick="submitFeedback()">Submit Feedback</button>
            <div class="feedback" id="feedbackDisplay"></div>
        </div>

        <!-- Simple Calculator -->
        <div class="card">
            <h3>Simple Calculator</h3>
            <input type="text" id="calcInput" placeholder="Enter calculation..." />
            <button onclick="calculate()">Calculate</button>
            <div id="calcResult"></div>
        </div>

    </div>

    <script>
        // Dynamic Text
        function changeText() {
            const textElement = document.getElementById('dynamicText');
            textElement.innerHTML = "üéâ You just clicked the button! üéâ";
        }

        // Show Input Text
        function showInput() {
            const inputElement = document.getElementById('userInput');
            const textElement = document.getElementById('dynamicText');
            textElement.innerHTML = `You entered: "${inputElement.value}"`;
            // Add to user input history
            addToHistory(inputElement.value);
            inputElement.value = ''; // Clear the input after showing
        }

        // Array of Quotes
        const quotes = [
            "Life is short, smile while you still have teeth!",
            "If you think you‚Äôre too small to make a difference, try sleeping with a mosquito.",
            "You only live once, but if you do it right, once is enough.",
            "Be yourself; everyone else is already taken.",
            "Why fit in when you were born to stand out?",
            "The only way to do great work is to love what you do.",
            "Success is not the key to happiness. Happiness is the key to success.",
            "Don't watch the clock; do what it does. Keep going."
        ];

        // Change Quote
        function changeQuote() {
            const quoteElement = document.getElementById('funQuote');
            const randomIndex = Math.floor(Math.random() * quotes.length);
            quoteElement.innerHTML = quotes[randomIndex];
        }

        // Change Background Color
        function changeBackgroundColor(color) {
            document.body.style.backgroundColor = color;
        }

        // Random Joke Generator
        async function generateJoke() {
            const jokeDisplay = document.getElementById('jokeDisplay');
            const response = await fetch('https://official-joke-api.appspot.com/random_joke');
            const joke = await response.json();
            jokeDisplay.innerHTML = `${joke.setup} - ${joke.punchline}`;
        }

        // Image Upload Preview
        function displayImage(event) {
            const image = document.getElementById('uploadedImage');
            image.src = URL.createObjectURL(event.target.files[0]);
        }

        // Countdown Timer
        let countdownInterval;
        function startCountdown() {
            const countdownInput = document.getElementById('countdownInput').value;
            const endTime = new Date(countdownInput).getTime();
            
            clearInterval(countdownInterval);
            countdownInterval = setInterval(() => {
                const now = new Date().getTime();
                const distance = endTime - now;

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('countdownDisplay').innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;

                if (distance < 0) {
                    clearInterval(countdownInterval);
                    document.getElementById('countdownDisplay').innerHTML = "EXPIRED";
                }
            }, 1000);
        }

        // Trivia Quiz
        const triviaQuestions = [
            { question: "What is the capital of France?", answer: "Paris" },
            { question: "What is 2 + 2?", answer: "4" },
            { question: "What color is the sky?", answer: "blue" },
            { question: "What is the largest planet in our solar system?", answer: "Jupiter" }
        ];

        function getTriviaQuestion() {
            const randomIndex = Math.floor(Math.random() * triviaQuestions.length);
            const question = triviaQuestions[randomIndex];
            document.getElementById('quizQuestion').innerText = question.question;
            document.getElementById('quizQuestion').dataset.answer = question.answer;
            document.getElementById('quizFeedback').innerText = '';
        }

        function checkTriviaAnswer() {
            const userAnswer = document.getElementById('quizAnswer').value;
            const correctAnswer = document.getElementById('quizQuestion').dataset.answer;
            const feedback = userAnswer.toLowerCase() === correctAnswer.toLowerCase() ? "Correct!" : "Wrong. The correct answer is " + correctAnswer + ".";
            document.getElementById('quizFeedback').innerText = feedback;
        }

        // Simple To-Do List
        function addTodo() {
            const todoInput = document.getElementById('todoInput').value;
            const todoList = document.getElementById('todoList');
            const li = document.createElement('li');
            li.textContent = todoInput;
            li.onclick = () => li.remove(); // Remove item on click
            todoList.appendChild(li);
            document.getElementById('todoInput').value = ''; // Clear input
        }

        // User Input History
        let inputHistory = [];

        function addToHistory(input) {
            inputHistory.push(input);
            localStorage.setItem('userInputHistory', JSON.stringify(inputHistory));
        }

        function showUserInputHistory() {
            const history = JSON.parse(localStorage.getItem('userInputHistory')) || [];
            document.getElementById('userInputHistory').innerHTML = history.join(", ") || "No history available.";
        }

        // Emoji Picker
        function selectEmoji(emoji) {
            document.getElementById('emojiText').innerText = "Selected Emoji: " + emoji;
            document.getElementById('dynamicText').innerText += " " + emoji; // Add emoji to dynamic text
        }

        // Random Fun Fact
        const funFacts = [
            "Honey never spoils.",
            "A flock of flamingos is called a 'flamboyance.'",
            "Bananas are berries, but strawberries aren't.",
            "Octopuses have three hearts.",
            "Wombat poop is cube-shaped.",
            "Cows have best friends.",
            "Sea otters hold hands while sleeping."
        ];

        function showFunFact() {
            const factElement = document.getElementById('funFact');
            const randomIndex = Math.floor(Math.random() * funFacts.length);
            factElement.innerHTML = funFacts[randomIndex];
        }

        // Simple Music Player
        // Included in the HTML as an audio element

        // Feedback Form
        function submitFeedback() {
            const feedbackInput = document.getElementById('feedbackInput').value;
            document.getElementById('feedbackDisplay').innerHTML = "Thank you for your feedback! \"" + feedbackInput + "\" received.";
            document.getElementById('feedbackInput').value = ''; // Clear input
        }

        // Simple Calculator
        function calculate() {
            const calcInput = document.getElementById('calcInput').value;
            try {
                const result = eval(calcInput);
                document.getElementById('calcResult').innerHTML = "Result: " + result;
            } catch (e) {
                document.getElementById('calcResult').innerHTML = "Error in calculation.";
            }
        }
    </script>
</body>
</html>
